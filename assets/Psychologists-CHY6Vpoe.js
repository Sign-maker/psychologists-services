import{r,F as e,S as C,s as m,e as p,j as t,L as E,U as L,B as _}from"./index-fjgE9Or9.js";import{u as F,a as O,F as S,P as w,E as I}from"./Empty-1HTPLuID.js";const N="_section_l5fej_1",R="_btnWrapper_l5fej_5",x={section:N,btnWrapper:R},v=()=>{const[i,d]=r.useState([]),[h,c]=r.useState(!0),{psychologistsItems:f,isPsychologistsLoading:l,nextKey:n,nextValue:u,getPsychologists:y,resetPsychologists:g}=F(),{selectedFilter:s}=O();r.useEffect(()=>{const o=async()=>{try{await y(i),c(!1)}catch(P){_.error(`Ooops, something went wrong! ${P.message}`)}};h&&i.length>0&&o()},[y,i,h]),r.useEffect(()=>{if(!n)return;const o=e[s].sortOrder===C.asc?e[s].key?[m(u,n)]:[m(n)]:e[s].key?[p(u,n)]:[p(n)];d([...e[s].queryConstraint,...o])},[n,u,s]),r.useEffect(()=>{g();const o=e[s].additionalQueryConstraint?[...e[s].queryConstraint,...e[s].additionalQueryConstraint]:[...e[s].queryConstraint];d(o),c(!0)},[g,s]);const j=()=>{c(!0)},a=f;return t.jsx("section",{className:x.section,children:t.jsxs("div",{className:"container",children:[t.jsx("h2",{className:"visually-hidden",children:"Psychologists"}),t.jsx(S,{}),a.length>0&&t.jsx(w,{items:a}),!l&&!a.length&&t.jsx(I,{}),l&&!a.length&&t.jsx(E,{}),n&&t.jsx("div",{className:x.btnWrapper,children:t.jsx(L,{onClick:j,isLoading:l,width:176,children:"Load more"})})]})})};export{v as default};
